# 指针专题

**来自传智播客的C语言和C++文件操作专题**

> 参考链接：
>
> - [09_文件操作api基本概念_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1ss411A7Dm/?p=86)
> - [10_按照字符读写文件_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1ss411A7Dm?p=87)

## 1 C语言文件读写概念

### 文件分类

- 按文件的逻辑结构：
  - 记录文件：由具有一定结构的记录组成(定长和不定长）
  - 流式文件：由一个个字符（字节）数据顺序组成
- 按存储介质：
  - 普通文件：存储介质文件（磁盘、磁带等）
  - 设备文件：非存储介质（键盘、显示器、打印机等）
- 按数据的组织形式：
  - 文本文件：ASCII文件，每个字节存放一个字符的ASCII码
  - 二进制文件：数据按其在内存中的存储形式原样存放

![](https://gitee.com/C_YouShao/mdpic/raw/master/img/202308271235801-内存中存储形式.png)

---

- 每个文件都以文件名为标识，I/O设备的文件名是系统定义的，如：
  - COM1 或 AUX――第一串行口，附加设备
  - COM2――第二串行口，此外，还可能有COM3、COM4等。
  - CON――控制台(console)，键盘（输入用）或显示器（输出用）。
  - LPT1 或 PRN――第一并行口或打印机
  - LPT2――第二并行口，还可能有LPT3等
  - NUL――空设备
- 磁盘文件可以由用户自己命名，但上述被系统（`windows` 和 `dos` 下均是如此）保留的设备名字不能用作文件名，如不能把一个文件命名为 CON（不带扩展名）或 CON.TXT（不带扩展名）。

---

- 流概念
  - 流是一个动态的概念，可以将一个字节形象地比喻成一滴水，字节在设备、文件和程序之间的传输就是流，类似于水在管道中的传输，可以看出，流是对输入输出源的一种抽象，也是对传输信息的一种抽象。通过对输入输出源的抽象，屏蔽了设备之间的差异，使程序员能以一种通用的方式进行存储操作，通过对传输信息的抽象，使得所有信息都转化为字节流的形式传输，信息解读的过程与传输过程分离。
  - C语言中，I/O操作可以简单地看作是从程序移进或移出字节，这种搬运的过程便称为流(stream)。程序只需要关心是否正确地输出了字节数据，以及是否正确地输入了要读取字节数据，特定I/O设备的细节对程序员是隐藏的。

---

- 文件处理方法
  - 缓冲文件系统：高级文件系统，系统自动为正在使用的文件开辟内存缓冲区
  - 非缓冲文件系统：低级文件系统，由用户在程序中为每个文件设定缓冲区

![](https://gitee.com/C_YouShao/mdpic/raw/master/img/202308271245335-文件处理方法.png)

- 缓冲文件系统理解：文件句柄

![](https://gitee.com/C_YouShao/mdpic/raw/master/img/202308271247373-缓冲文件系统理解.png)



## 2 文件操作API

### 2.1文件api的分类

![](https://gitee.com/C_YouShao/mdpic/raw/master/img/202308271249658-fileApi.png)

### 2.2标准文件的读写

![](https://gitee.com/C_YouShao/mdpic/raw/master/img/202308271250758-fopen.png)

![](https://gitee.com/C_YouShao/mdpic/raw/master/img/202308271250780-fopen1.png)





### 2.3非标准文件的读写

### 2.4注意点

## 3 文件操作案例-配置文件读写



## 4 文件操作案例-大文件加解密

